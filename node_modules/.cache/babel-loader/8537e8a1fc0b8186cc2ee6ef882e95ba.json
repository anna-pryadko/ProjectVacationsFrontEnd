{"ast":null,"code":"var _jsxFileName = \"/Users/annapryadko/Desktop/GitHub/ReactProjectVacations/projectvacations/src/Components/Home/HomeUser.js\";\nimport React, { Component } from 'react';\nimport { Route, Link, Switch, Redirect } from 'react-router-dom';\nimport axios from \"axios\";\nimport { MDBFormInline, MDBNavbar, MDBNavbarBrand, MDBNavbarNav, MDBNavbarToggler, MDBCollapse, MDBNavItem, MDBNavLink, MDBContainer, MDBMask, MDBView } from 'mdbreact';\nimport { BrowserRouter as Router } from 'react-router-dom'; // import './Home.css';\n\nimport Login from '../Login/Login.js';\nimport Header from '../Header/Header.js';\nimport Footer from '../Footer/Footer.js';\nimport Card from '../Card/Card';\n\nclass HomeUser extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      currentUserN: {},\n      currentUserName: \"\",\n      userId: \"\",\n      currentUserVacations: []\n    };\n\n    this.componentDidMount = () => {\n      let currentUserId = JSON.parse(localStorage.currentUserId);\n      let currentUserName = JSON.parse(localStorage.currentUserName);\n      this.setState({\n        currentUserN: currentUserName\n      });\n      this.setState({\n        userId: currentUserId\n      }); //console.log('currentUser: ',currUser);\n\n      console.log('currentUserId: ', currentUserId);\n      var self = this;\n      axios.get(\"http://localhost:5000/getAllVacation?currentUserId=\".concat(currentUserId)).then(function (response) {\n        // console.log(this.state.allVacations);\n        console.log(response.data);\n        self.setState({\n          currentUserVacations: response.data\n        }); // console.log(this.state.allVacations);\n      }).catch(function (error) {\n        console.log(error);\n      });\n    };\n\n    this.printCardsfavourite = () => {\n      let printArrayfavourite = [];\n      console.log(this.state.currentUserVacations);\n\n      for (let item of this.state.currentUserVacations) {\n        item.start_date = item.start_date.substring(0, 10); //this function cut the date to normal without zone time\n\n        item.end_date = item.end_date.substring(0, 10);\n\n        if (item.status !== null) {\n          printArrayfavourite.push(React.createElement(Card, {\n            key: item.id,\n            data: item,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 64\n            },\n            __self: this\n          }));\n        }\n      }\n\n      console.log('printArrayfavourite: ', printArrayfavourite);\n      return printArrayfavourite;\n    };\n\n    this.printCards = () => {\n      let printArray = [];\n      console.log(this.state.currentUserVacations);\n\n      for (let item of this.state.currentUserVacations) {\n        if (item.status == null) {\n          printArray.push(React.createElement(Card, {\n            key: item.id,\n            data: item,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 78\n            },\n            __self: this\n          }));\n        }\n      }\n\n      console.log('printArray: ', printArray);\n      return printArray;\n    };\n\n    this.LinkLogOut = () => {\n      localStorage.removeItem('currentUser');\n      var self = this;\n      axios.get(\"http://localhost:5000/Logout\", {\n        withCredentials: true\n      }).then(function (response) {\n        console.log(response.data); // self.setState({ isLogin: response.data });\n      }).catch(function (error) {\n        console.log(error);\n      });\n    };\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }, \"OUR VACATIONS\"), React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }, \"Yours favourite vacations:\"), React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }, this.printCardsfavourite()), React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }, \"Others vacations:\"), React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }, this.printCards()), React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      type: \"button\",\n      onClick: () => this.LinkLogOut(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"/Logout\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124\n      },\n      __self: this\n    }, \"LogOut\")), React.createElement(Route, {\n      path: \"/Login\",\n      exact: true,\n      component: Login,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    })));\n  }\n\n}\n\nexport default HomeUser;","map":{"version":3,"sources":["/Users/annapryadko/Desktop/GitHub/ReactProjectVacations/projectvacations/src/Components/Home/HomeUser.js"],"names":["React","Component","Route","Link","Switch","Redirect","axios","MDBFormInline","MDBNavbar","MDBNavbarBrand","MDBNavbarNav","MDBNavbarToggler","MDBCollapse","MDBNavItem","MDBNavLink","MDBContainer","MDBMask","MDBView","BrowserRouter","Router","Login","Header","Footer","Card","HomeUser","state","currentUserN","currentUserName","userId","currentUserVacations","componentDidMount","currentUserId","JSON","parse","localStorage","setState","console","log","self","get","then","response","data","catch","error","printCardsfavourite","printArrayfavourite","item","start_date","substring","end_date","status","push","id","printCards","printArray","LinkLogOut","removeItem","withCredentials","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Route, Link, Switch, Redirect} from 'react-router-dom';\nimport axios from \"axios\";\nimport { MDBFormInline, MDBNavbar, MDBNavbarBrand, MDBNavbarNav, MDBNavbarToggler, MDBCollapse, MDBNavItem, MDBNavLink, MDBContainer, MDBMask, MDBView } from 'mdbreact';\nimport { BrowserRouter as Router } from 'react-router-dom';\n\n// import './Home.css';\n\nimport Login from '../Login/Login.js';\nimport Header from '../Header/Header.js';\nimport Footer from '../Footer/Footer.js';\nimport Card from '../Card/Card';\n\nclass HomeUser extends Component {\n\n    state = {\n\n\t  currentUserN: {},\n\t  currentUserName:\"\",\n\t  userId:\"\",  \n\n      currentUserVacations: [],\n\t  \n\t};\n\t\n\t\n//Get all vacations\n\n    componentDidMount=()=>{\n\t\tlet currentUserId = JSON.parse(localStorage.currentUserId);\n\t\tlet currentUserName = JSON.parse(localStorage.currentUserName);\n\t\t\n        this.setState({ currentUserN: currentUserName });\n        this.setState({ userId: currentUserId });\n\n\t\t//console.log('currentUser: ',currUser);\n\t\t\n\t\tconsole.log('currentUserId: ',currentUserId);\n        var self=this;\n        axios.get(`http://localhost:5000/getAllVacation?currentUserId=${currentUserId}`)\n        .then(function(response){\n\t\t \n\t\t// console.log(this.state.allVacations);\n\t\n         console.log(response.data);\n         \n\t\t self.setState({ currentUserVacations: response.data });\n\t\t// console.log(this.state.allVacations);\n\n        })\n        .catch(function(error){\n           console.log(error);\n        });\n      } \n      \n      printCardsfavourite=()=>{\n        let printArrayfavourite  = [];\n\t\tconsole.log(this.state.currentUserVacations);\n        for(let item of this.state.currentUserVacations)\n        {\n\t\t\titem.start_date=item.start_date.substring(0,10) //this function cut the date to normal without zone time\n            item.end_date=item.end_date.substring(0,10)\n            if (item.status!==null) {\n            printArrayfavourite.push(<Card key={item.id} data={item}/>)\n            \n            }\n\t\t}\n        console.log('printArrayfavourite: ',printArrayfavourite);\n        return printArrayfavourite;\n      }\n\n      printCards=()=>{\n        let printArray  = [];\n\t\tconsole.log(this.state.currentUserVacations);\n        for(let item of this.state.currentUserVacations)\n        {\n            if (item.status==null) {\n            printArray.push(<Card key={item.id} data={item}/>)\n            \n            }\n\t\t}\n        console.log('printArray: ',printArray);\n        return printArray;\n      }\n   \n      LinkLogOut= () => {\n        localStorage.removeItem('currentUser');\n        var self=this;\n        axios.get(`http://localhost:5000/Logout`,{withCredentials:true})\n        .then(function(response){\n          \n          console.log(response.data);\n           \n        // self.setState({ isLogin: response.data });\n        })\n        .catch(function(error){\n           console.log(error);\n        });\n        }\n\n      \n\n  render() {\n    return (\n\t\n\t\t<div>\n\t\t \n\t\t\t\t<h2>OUR VACATIONS</h2>\n\n                <h3>Yours favourite vacations:</h3>\n\t\t\t\t\n\t\t\t\t\t<div className=\"row\">\n\t\t\t\t\t\t{this.printCardsfavourite()}\n\t\t\t\t\t</div>\n\n                <h3>Others vacations:</h3>\n\t\t\t\t\n                    <div className=\"row\">\n                        {this.printCards()}\n                    </div>    \n\t\t       \n\n\t\t  <div className=\"row\">\n           <a type=\"button\" onClick={() =>this.LinkLogOut()}><Link to=\"/Logout\">LogOut</Link></a>\n           <Route path=\"/Login\" exact component={Login} />\n           </div>\n   \n\t\t</div>\n  \n    );\n  }\n}\n    \nexport default HomeUser;\n"]},"metadata":{},"sourceType":"module"}