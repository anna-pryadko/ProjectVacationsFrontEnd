{"ast":null,"code":"import _classCallCheck from \"/Users/annapryadko/Desktop/FullStack/React/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/annapryadko/Desktop/FullStack/React/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/annapryadko/Desktop/FullStack/React/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/annapryadko/Desktop/FullStack/React/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"/Users/annapryadko/Desktop/FullStack/React/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"/Users/annapryadko/Desktop/FullStack/React/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/annapryadko/Desktop/FullStack/React/my-app/src/Components/MyLogin.js\";\nimport React, { Component } from 'react';\nimport axios from \"axios\";\nimport Registration from './MyReg';\nimport { MDBContainer, MDBRow, MDBCol, MDBInput, MDBBtn, MDBCard, MDBCardBody, MDBModalFooter } from 'mdbreact';\nimport { BrowserRouter } from 'react-router-dom';\nimport { Route, Link, Switch } from 'react-router-dom'; // import MuiThemeProvider from 'material-ui/styles/MuiThemeProvider';\n// import AppBar from 'material-ui/AppBar';\n// import RaisedButton from 'material-ui/RaisedButton';\n// import TextField from 'material-ui/TextField';\n\nvar Login =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Login, _Component);\n\n  function Login() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Login);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Login)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      username: \"\",\n      password: \"\",\n      isLoginSuccess: \"\",\n      errorName: \"\",\n      errorPassword: \"\"\n    };\n\n    _this.sendLogin = function (event) {\n      event.preventDefault();\n      if (!_this._isFormValid()) return;\n      console.log(\"handleClick\");\n      var username = _this.state.username;\n      var password = _this.state.password;\n\n      var self = _assertThisInitialized(_this);\n\n      axios.get(\"http://localhost:4000/login?name=\".concat(username, \"&password=\").concat(password)).then(function (response) {\n        console.log(\"Login: \", response.data);\n        self.setState({\n          isLoginSuccess: response.data\n        });\n        console.log(\"isLoginSuccess:\", this.state.isLoginSuccess);\n      }).catch(function (error) {\n        console.log(error);\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(Login, [{\n    key: \"_isFormValid\",\n    value: function _isFormValid() {\n      return this._isNameValid(this.state.username) && this._isNameValid(this.state.password);\n    }\n  }, {\n    key: \"_isNameValid\",\n    value: function _isNameValid(username) {\n      var isValid = true;\n      var errorName = '';\n\n      if (username === '') {\n        errorName = 'Name is empty!';\n        isValid = false;\n        this.setState({\n          errorName: errorName\n        });\n        return isValid;\n      }\n\n      if (username.length < 3) {\n        errorName = 'Name must have 3 symbols minimum!';\n        isValid = false;\n        this.setState({\n          errorName: errorName\n        });\n        return isValid;\n      }\n    }\n  }, {\n    key: \"_isNameValid\",\n    value: function _isNameValid(password) {\n      var isValid = true;\n      var errorPassword = '';\n\n      if (password === '') {\n        errorPassword = 'Password is empty!';\n        isValid = false;\n        this.setState({\n          errorPassword: errorPassword\n        });\n        return isValid;\n      }\n    }\n  }, {\n    key: \"changeName\",\n    value: function changeName(username) {\n      this.setState({\n        username: username\n      });\n    }\n  }, {\n    key: \"changePassword\",\n    value: function changePassword(password) {\n      this.setState({\n        password: password\n      });\n    } // handleClick(event){\n    //   var apiBaseUrl = \"http://localhost:4000/api/\";\n    //   var self = this;\n    //   var payload={\n    //   \"email\":this.state.username,\n    //   \"password\":this.state.password\n    //   }\n    //   axios.post(apiBaseUrl+'login', payload)\n    //   .then(function (response) {\n    //   console.log(response);\n    //   if(response.data.code == 200){\n    //   console.log(\"Login successfull\");\n    //   var uploadScreen=[];\n    //   uploadScreen.push(<UploadScreen appContext={self.props.appContext}/>)\n    //   self.props.appContext.setState({loginPage:[],uploadScreen:uploadScreen})\n    //   }\n    //   else if(response.data.code == 204){\n    //   console.log(\"Username password do not match\");\n    //   alert(\"username password do not match\")\n    //   }\n    //   else{\n    //   console.log(\"Username does not exists\");\n    //   alert(\"Username does not exist\");\n    //   }\n    //   })\n    //   .catch(function (error) {\n    //   console.log(error);\n    //   });\n    //   }\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(BrowserRouter, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127\n        },\n        __self: this\n      }, React.createElement(MDBContainer, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128\n        },\n        __self: this\n      }, React.createElement(MDBRow, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129\n        },\n        __self: this\n      }, React.createElement(MDBCol, {\n        md: \"6\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130\n        },\n        __self: this\n      }, React.createElement(MDBCard, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131\n        },\n        __self: this\n      }, React.createElement(MDBCardBody, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132\n        },\n        __self: this\n      }, React.createElement(\"form\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        className: \"h4 text-center py-4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        },\n        __self: this\n      }, \"Login\"), React.createElement(\"div\", {\n        className: \"grey-text\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135\n        },\n        __self: this\n      }, React.createElement(MDBInput, {\n        label: \"Your name\",\n        icon: \"user\",\n        group: true,\n        type: \"text\",\n        validate: true,\n        error: \"wrong\",\n        success: \"right\",\n        onChange: this.changeName,\n        value: this.state.username,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136\n        },\n        __self: this\n      }), React.createElement(MDBInput, {\n        label: \"Your password\",\n        icon: \"lock\",\n        group: true,\n        type: \"password\",\n        validate: true,\n        onChange: this.changePassword,\n        value: this.state.password,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"text-center py-4 mt-3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157\n        },\n        __self: this\n      }, React.createElement(MDBBtn, {\n        color: \"cyan\",\n        type: \"submit\",\n        onClick: this.sendLogin,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158\n        },\n        __self: this\n      }, \"LOGIN\"))), React.createElement(MDBModalFooter, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"font-weight-light\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165\n        },\n        __self: this\n      }, \"Not a member? \", React.createElement(Link, {\n        to: \"/registration\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165\n        },\n        __self: this\n      }, \"Sign Up\"))))))))), React.createElement(Route, {\n        path: \"/registration\",\n        exact: true,\n        component: Registration,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 174\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return Login;\n}(Component);\n\nexport default Login;","map":{"version":3,"sources":["/Users/annapryadko/Desktop/FullStack/React/my-app/src/Components/MyLogin.js"],"names":["React","Component","axios","Registration","MDBContainer","MDBRow","MDBCol","MDBInput","MDBBtn","MDBCard","MDBCardBody","MDBModalFooter","BrowserRouter","Route","Link","Switch","Login","state","username","password","isLoginSuccess","errorName","errorPassword","sendLogin","event","preventDefault","_isFormValid","console","log","self","get","then","response","data","setState","catch","error","_isNameValid","isValid","length","changeName","changePassword"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport axios from \"axios\";\nimport Registration from './MyReg';\nimport { MDBContainer, MDBRow, MDBCol, MDBInput, MDBBtn, MDBCard, MDBCardBody,MDBModalFooter } from 'mdbreact';\nimport { BrowserRouter } from 'react-router-dom'\nimport { Route, Link, Switch,} from 'react-router-dom';\n\n\n// import MuiThemeProvider from 'material-ui/styles/MuiThemeProvider';\n// import AppBar from 'material-ui/AppBar';\n// import RaisedButton from 'material-ui/RaisedButton';\n// import TextField from 'material-ui/TextField';\n\nclass Login extends Component {\n  state = {\n    username:\"\",\n    password:\"\",\n  \n    isLoginSuccess:\"\",\n\n    errorName:\"\",\n    errorPassword:\"\",\n  };\n\n  _isFormValid() {\n    return this._isNameValid(this.state.username) && this._isNameValid(this.state.password)\n  }\n\n  _isNameValid(username) {\n    let isValid=true;\n    let errorName='';\n\n    if (username==='') {\n      errorName='Name is empty!';\n      isValid=false;\n      this.setState({errorName});\n      return isValid;\n    } \n\n    if (username.length < 3) {\n      errorName='Name must have 3 symbols minimum!';\n      isValid=false;\n      this.setState({errorName});\n      return isValid;\n    } \n  }\n\n  _isNameValid(password) {\n    let isValid=true;\n    let errorPassword='';\n\n    if (password==='') {\n      errorPassword='Password is empty!';\n      isValid=false;\n      this.setState({errorPassword});\n      return isValid;\n    } \n  }\n\n  changeName(username) {\n    this.setState({username});\n  }\n\n  changePassword(password) {\n    this.setState({password});\n  }\n  \n\n  // handleClick(event){\n  //   var apiBaseUrl = \"http://localhost:4000/api/\";\n  //   var self = this;\n  //   var payload={\n  //   \"email\":this.state.username,\n  //   \"password\":this.state.password\n  //   }\n  //   axios.post(apiBaseUrl+'login', payload)\n  //   .then(function (response) {\n  //   console.log(response);\n  //   if(response.data.code == 200){\n  //   console.log(\"Login successfull\");\n  //   var uploadScreen=[];\n  //   uploadScreen.push(<UploadScreen appContext={self.props.appContext}/>)\n  //   self.props.appContext.setState({loginPage:[],uploadScreen:uploadScreen})\n  //   }\n  //   else if(response.data.code == 204){\n  //   console.log(\"Username password do not match\");\n  //   alert(\"username password do not match\")\n  //   }\n  //   else{\n  //   console.log(\"Username does not exists\");\n  //   alert(\"Username does not exist\");\n  //   }\n  //   })\n  //   .catch(function (error) {\n  //   console.log(error);\n  //   });\n  //   }\n  \n  sendLogin= (event) => {\n    event.preventDefault();\n\n    if (!this._isFormValid()) return;\n\n    console.log(\"handleClick\");\n    let username=this.state.username;\n    let password=this.state.password;\n       \n    var self=this;\n    axios.get(`http://localhost:4000/login?name=${username}&password=${password}`)\n    .then(function(response){\n      \n      console.log(\"Login: \",response.data);\n      \n     self.setState({ isLoginSuccess: response.data });\n\n     console.log(\"isLoginSuccess:\", this.state.isLoginSuccess);\n    })\n    .catch(function(error){\n       console.log(error);\n    });\n    }\n\n    \n\n    render() {\n        return (\n          <BrowserRouter>\n            <MDBContainer>\n              <MDBRow>\n                <MDBCol md=\"6\">\n                  <MDBCard>\n                    <MDBCardBody>\n                      <form>\n                        <p className=\"h4 text-center py-4\">Login</p>\n                        <div className=\"grey-text\">\n                          <MDBInput\n                            label=\"Your name\"\n                            icon=\"user\"\n                            group\n                            type=\"text\"\n                            validate\n                            error=\"wrong\"\n                            success=\"right\"\n                            onChange={this.changeName}\n                            value={this.state.username}\n                          />\n                          <MDBInput\n                            label=\"Your password\"\n                            icon=\"lock\"\n                            group\n                            type=\"password\"\n                            validate\n                            onChange={this.changePassword}\n                            value={this.state.password}\n                          />\n                        </div>\n                        <div className=\"text-center py-4 mt-3\">\n                          <MDBBtn color=\"cyan\" type=\"submit\" onClick={this.sendLogin}>\n                            LOGIN\n                          </MDBBtn>\n                        </div>\n                      </form>\n                      <MDBModalFooter>\n                <div className=\"font-weight-light\">\n                  <p>Not a member? <Link to=\"/registration\">Sign Up</Link></p>\n                  {/* <p>Forgot Password?</p> */}\n                </div>\n              </MDBModalFooter>\n                    </MDBCardBody>\n                  </MDBCard>\n                </MDBCol>\n              </MDBRow>\n            </MDBContainer>\n            <Route path=\"/registration\" exact component={Registration} />\n            </BrowserRouter>\n          );\n        };\n      }   \n  export default Login;\n  "]},"metadata":{},"sourceType":"module"}