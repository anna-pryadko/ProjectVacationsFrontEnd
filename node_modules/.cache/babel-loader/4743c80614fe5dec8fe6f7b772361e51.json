{"ast":null,"code":"var _jsxFileName = \"/Users/annapryadko/Desktop/GitHub/ReactProjectVacations/projectvacations/src/Components/ModalLogin/ModalLogin.js\";\nimport React, { Component } from 'react';\nimport { Route, Link, Switch, Redirect } from 'react-router-dom';\nimport { MDBContainer, MDBRow, MDBCol, MDBBtn, MDBCard, MDBCardBody, MDBIcon } from 'mdbreact';\nimport axios from \"axios\";\nimport Home from '../Home/Home'; //import './Card.css';\n// import ToggleButton from 'react-bootstrap/ToggleButton'\n// import {Card,Button} from 'react-bootstrap';\n//import axios from \"axios\";\n\nclass ModalLogin extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      userName: \"\",\n      password: \"\",\n      errorName: \"\",\n      errorPassword: \"\",\n      currentUser: {},\n      isLoginSuccess: \"\",\n      foundUsers: [],\n      isLoggedIn: false,\n      isAdmin: false,\n      checkCookie: \"\",\n      cookieArr: []\n    };\n\n    this.handleClick = () => {\n      let password = this.state.password;\n      let userName = this.state.userName;\n      console.log(password, userName);\n      var self = this;\n      axios.get(\"http://localhost:5000/checkLogin?name=\".concat(userName, \"&password=\").concat(password), {\n        withCredentials: true\n      }).then(function (response) {\n        console.log('currentUser', response.data);\n        self.setState({\n          currentUser: response.data\n        });\n        self.setState({\n          isLoggedIn: true\n        });\n        this.setLogin();\n      }).catch(function (error) {\n        console.log(error);\n      });\n    };\n  }\n\n  render() {\n    if (this.state.isLoggedIn == true) {\n      return React.createElement(Redirect, {\n        to: \"/Home\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      });\n    }\n\n    console.log(\"props : \", this.props);\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, React.createElement(MDBContainer, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, React.createElement(MDBRow, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, React.createElement(MDBCol, {\n      md: \"6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, React.createElement(MDBCard, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, React.createElement(MDBCardBody, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      className: \"h4 text-center py-4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, \"Subscribe\"), React.createElement(\"label\", {\n      htmlFor: \"defaultFormCardNameEx\",\n      className: \"grey-text font-weight-light\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, \"Your name (email)\"), React.createElement(\"input\", {\n      type: \"email\",\n      id: \"defaultFormCardNameEx\",\n      className: \"form-control\",\n      onChange: (event, target) => this.setState({\n        username: event.target.value\n      }),\n      value: this.state.username,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      htmlFor: \"defaultFormCardEmailEx\",\n      className: \"grey-text font-weight-light\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, \"Your password\"), React.createElement(\"input\", {\n      type: \"password\",\n      id: \"defaultFormCardEmailEx\",\n      className: \"form-control\",\n      onChange: (event, target) => this.setState({\n        password: event.target.value\n      }),\n      value: this.state.password,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"text-center py-4 mt-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }, React.createElement(MDBBtn, {\n      className: \"btn btn-outline-purple\",\n      type: \"submit\",\n      onClick: () => this.handleClick(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, \"Login\", React.createElement(MDBIcon, {\n      far: true,\n      icon: \"paper-plane\",\n      className: \"ml-2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }))))))))), React.createElement(Route, {\n      path: \"/Home\",\n      exact: true,\n      component: Home,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default ModalLogin;","map":{"version":3,"sources":["/Users/annapryadko/Desktop/GitHub/ReactProjectVacations/projectvacations/src/Components/ModalLogin/ModalLogin.js"],"names":["React","Component","Route","Link","Switch","Redirect","MDBContainer","MDBRow","MDBCol","MDBBtn","MDBCard","MDBCardBody","MDBIcon","axios","Home","ModalLogin","state","userName","password","errorName","errorPassword","currentUser","isLoginSuccess","foundUsers","isLoggedIn","isAdmin","checkCookie","cookieArr","handleClick","console","log","self","get","withCredentials","then","response","data","setState","setLogin","catch","error","render","props","event","target","username","value"],"mappings":"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","sourcesContent":["import React, { Component }  from 'react';\nimport { Route, Link, Switch,Redirect} from 'react-router-dom';\nimport { MDBContainer, MDBRow, MDBCol, MDBBtn, MDBCard, MDBCardBody, MDBIcon } from 'mdbreact';\nimport axios from \"axios\";\n\nimport Home from '../Home/Home';\n\n//import './Card.css';\n// import ToggleButton from 'react-bootstrap/ToggleButton'\n// import {Card,Button} from 'react-bootstrap';\n//import axios from \"axios\";\n\nclass ModalLogin extends Component {\n    \n    state={\n        userName:\"\",\n        password:\"\",\n    \n        errorName:\"\",\n        errorPassword:\"\",\n    \n        currentUser:{},\n        isLoginSuccess:\"\",\n    \n        foundUsers:[],\n        isLoggedIn: false,\n        isAdmin:false,\n    \n        checkCookie:\"\",\n        cookieArr:[],\n       }\n      \n\nhandleClick=()=>{ \n    \n          \n          let password=this.state.password;\n          let userName=this.state.userName; \n          console.log(password,userName);\n          var self=this;\n          axios.get(`http://localhost:5000/checkLogin?name=${userName}&password=${password}`,{withCredentials:true})\n          .then(function(response){\n            \n          console.log('currentUser',response.data);\n            \n          self.setState({ currentUser: response.data });\n          self.setState({ isLoggedIn: true });  \n          this.setLogin();  \n          })\n          .catch(function(error){\n            console.log(error);\n          });\n         \n        \n\n      } \n\nrender() {\n    if (this.state.isLoggedIn == true){ \n        return  <Redirect to=\"/Home\"/>\n       }\n\n    console.log(\"props : \" , this.props)\n    \n\n    return (\n     \n<div>\n<MDBContainer>\n      <MDBRow>\n        <MDBCol md=\"6\">\n          <MDBCard>\n            <MDBCardBody>\n              <form>\n                <p className=\"h4 text-center py-4\">Subscribe</p>\n                <label\n                  htmlFor=\"defaultFormCardNameEx\"\n                  className=\"grey-text font-weight-light\"\n                >\n                  Your name (email)\n                </label>\n                <input\n                  type=\"email\"\n                  id=\"defaultFormCardNameEx\"\n                  className=\"form-control\"\n                  onChange = {(event,target) => this.setState({username:event.target.value})}\n                  value={this.state.username}\n                />\n                <br />\n                <label\n                  htmlFor=\"defaultFormCardEmailEx\"\n                  className=\"grey-text font-weight-light\"\n                >\n                  Your password\n                </label>\n                <input\n                  type=\"password\"\n                  id=\"defaultFormCardEmailEx\"\n                  className=\"form-control\"\n                  onChange = {(event,target) => this.setState({password:event.target.value})}\n                  value={this.state.password}\n                />\n                <div className=\"text-center py-4 mt-3\">\n                  <MDBBtn className=\"btn btn-outline-purple\" type=\"submit\" onClick={() =>this.handleClick()}>\n                    Login\n                    <MDBIcon far icon=\"paper-plane\" className=\"ml-2\" />\n                  </MDBBtn>\n                </div>\n              </form>\n            </MDBCardBody>\n          </MDBCard>\n        </MDBCol>\n      </MDBRow>\n    </MDBContainer>\n  <Route path=\"/Home\" exact component={Home} />\n  </div>\n       \n    );\n}\n}\n\nexport default ModalLogin"]},"metadata":{},"sourceType":"module"}