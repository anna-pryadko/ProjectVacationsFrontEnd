{"ast":null,"code":"var _jsxFileName = \"/Users/annapryadko/Desktop/GitHub/ReactProjectVacations/projectvacations/src/Components/ModalLogin/ModalLogin.js\";\nimport React, { Component } from 'react';\nimport { MDBContainer, MDBRow, MDBCol, MDBBtn, MDBCard, MDBCardBody, MDBIcon } from 'mdbreact';\nimport axios from \"axios\"; //import './Card.css';\n// import ToggleButton from 'react-bootstrap/ToggleButton'\n// import {Card,Button} from 'react-bootstrap';\n//import axios from \"axios\";\n\nclass ModalLogin extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      userName: \"\",\n      password: \"\",\n      errorName: \"\",\n      errorPassword: \"\",\n      currentUser: {},\n      isLoginSuccess: \"\",\n      foundUsers: [],\n      isLoggedIn: false,\n      isAdmin: false,\n      checkCookie: \"\",\n      cookieArr: []\n    };\n\n    this.handleClick = () => {\n      console.log('checkLogin');\n\n      let isValud = this._isFormValid();\n\n      if (isValud == true) {\n        console.log('Valid');\n        let password = this.state.password;\n        let userName = this.state.userName;\n        var self = this;\n        axios.get(\"http://localhost:5000/checkLogin?name=\".concat(userName, \"&password=\").concat(password), {\n          withCredentials: true\n        }).then(function (response) {\n          console.log('currentUser', response.data);\n          self.setState({\n            currentUser: response.data\n          });\n          this.setLogin();\n        }).catch(function (error) {\n          console.log(error);\n        });\n      } else {\n        if (this.state.errorName) {\n          alert(this.state.errorName);\n        }\n\n        if (this.state.errorPassword) {\n          alert(this.state.errorPassword);\n        }\n      }\n    };\n  }\n\n  render() {\n    console.log(\"props : \", this.props);\n    return React.createElement(MDBContainer, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, React.createElement(MDBRow, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, React.createElement(MDBCol, {\n      md: \"6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, React.createElement(MDBCard, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, React.createElement(MDBCardBody, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      className: \"h4 text-center py-4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, \"Subscribe\"), React.createElement(\"label\", {\n      htmlFor: \"defaultFormCardNameEx\",\n      className: \"grey-text font-weight-light\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, \"Your name (email)\"), React.createElement(\"input\", {\n      type: \"email\",\n      id: \"defaultFormCardNameEx\",\n      className: \"form-control\",\n      onChange: (event, target) => this.setState({\n        username: event.target.value\n      }),\n      value: this.state.username,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      htmlFor: \"defaultFormCardEmailEx\",\n      className: \"grey-text font-weight-light\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, \"Your password\"), React.createElement(\"input\", {\n      type: \"password\",\n      id: \"defaultFormCardEmailEx\",\n      className: \"form-control\",\n      onChange: (event, target) => this.setState({\n        password: event.target.value\n      }),\n      value: this.state.password,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"text-center py-4 mt-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, React.createElement(MDBBtn, {\n      className: \"btn btn-outline-purple\",\n      type: \"submit\",\n      onClick: () => this.handleClick(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }, \"Login\", React.createElement(MDBIcon, {\n      far: true,\n      icon: \"paper-plane\",\n      className: \"ml-2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    })))))))));\n  }\n\n}\n\nexport default ModalLogin;","map":{"version":3,"sources":["/Users/annapryadko/Desktop/GitHub/ReactProjectVacations/projectvacations/src/Components/ModalLogin/ModalLogin.js"],"names":["React","Component","MDBContainer","MDBRow","MDBCol","MDBBtn","MDBCard","MDBCardBody","MDBIcon","axios","ModalLogin","state","userName","password","errorName","errorPassword","currentUser","isLoginSuccess","foundUsers","isLoggedIn","isAdmin","checkCookie","cookieArr","handleClick","console","log","isValud","_isFormValid","self","get","withCredentials","then","response","data","setState","setLogin","catch","error","alert","render","props","event","target","username","value"],"mappings":"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","sourcesContent":["import React, { Component }  from 'react';\nimport { MDBContainer, MDBRow, MDBCol, MDBBtn, MDBCard, MDBCardBody, MDBIcon } from 'mdbreact';\nimport axios from \"axios\";\n\n//import './Card.css';\n// import ToggleButton from 'react-bootstrap/ToggleButton'\n// import {Card,Button} from 'react-bootstrap';\n//import axios from \"axios\";\n\nclass ModalLogin extends Component {\n    \n    state={\n        userName:\"\",\n        password:\"\",\n    \n        errorName:\"\",\n        errorPassword:\"\",\n    \n        currentUser:{},\n        isLoginSuccess:\"\",\n    \n        foundUsers:[],\n        isLoggedIn: false,\n        isAdmin:false,\n    \n        checkCookie:\"\",\n        cookieArr:[],\n       }\n      \n\nhandleClick=()=>{ \n    console.log('checkLogin')\n    let isValud=this._isFormValid();\n        if (isValud==true) {\n          console.log('Valid')\n          let password=this.state.password;\n          let userName=this.state.userName; \n          var self=this;\n          axios.get(`http://localhost:5000/checkLogin?name=${userName}&password=${password}`,{withCredentials:true})\n          .then(function(response){\n            \n          console.log('currentUser',response.data);\n            \n          self.setState({ currentUser: response.data });\n\n          this.setLogin();  \n          })\n          .catch(function(error){\n            console.log(error);\n          });\n        } \n        else {\n          if (this.state.errorName) {alert(this.state.errorName);}\n          if (this.state.errorPassword) {alert(this.state.errorPassword);}\n         }\n\n      } \n\nrender() {\n    \n\n    console.log(\"props : \" , this.props)\n    \n\n    return (\n     \n\n<MDBContainer>\n      <MDBRow>\n        <MDBCol md=\"6\">\n          <MDBCard>\n            <MDBCardBody>\n              <form>\n                <p className=\"h4 text-center py-4\">Subscribe</p>\n                <label\n                  htmlFor=\"defaultFormCardNameEx\"\n                  className=\"grey-text font-weight-light\"\n                >\n                  Your name (email)\n                </label>\n                <input\n                  type=\"email\"\n                  id=\"defaultFormCardNameEx\"\n                  className=\"form-control\"\n                  onChange = {(event,target) => this.setState({username:event.target.value})}\n                  value={this.state.username}\n                />\n                <br />\n                <label\n                  htmlFor=\"defaultFormCardEmailEx\"\n                  className=\"grey-text font-weight-light\"\n                >\n                  Your password\n                </label>\n                <input\n                  type=\"password\"\n                  id=\"defaultFormCardEmailEx\"\n                  className=\"form-control\"\n                  onChange = {(event,target) => this.setState({password:event.target.value})}\n                  value={this.state.password}\n                />\n                <div className=\"text-center py-4 mt-3\">\n                  <MDBBtn className=\"btn btn-outline-purple\" type=\"submit\" onClick={() =>this.handleClick()}>\n                    Login\n                    <MDBIcon far icon=\"paper-plane\" className=\"ml-2\" />\n                  </MDBBtn>\n                </div>\n              </form>\n            </MDBCardBody>\n          </MDBCard>\n        </MDBCol>\n      </MDBRow>\n    </MDBContainer>\n  \n\n       \n    );\n}\n}\n\nexport default ModalLogin"]},"metadata":{},"sourceType":"module"}