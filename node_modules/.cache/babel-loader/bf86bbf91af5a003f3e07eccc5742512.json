{"ast":null,"code":"var _jsxFileName = \"/Users/annapryadko/Desktop/GitHub/ReactProjectVacations/projectvacations/src/Components/Home/HomeUser.js\";\nimport React, { Component } from 'react';\nimport axios from \"axios\";\nimport './Home.css';\nimport Card from '../Card/Card';\nimport Menu from '../Menu/MenuUser';\n\nclass HomeUser extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      currentUserName: \"\",\n      userId: \"\",\n      currentUserVacations: []\n    };\n\n    this.componentDidMount = () => {\n      let currUser = JSON.parse(localStorage.currentUserName); //get info about current admim from LS\n\n      this.setState({\n        currentUserName: currUser\n      });\n      let currIdUser = JSON.parse(localStorage.currentUserId); //get info about current admim from LS\n\n      this.setState({\n        userId: currIdUser\n      });\n      var self = this;\n      axios.get(\"http://localhost:5000/getAllVacation?currentUserId=\".concat(currIdUser)).then(function (response) {\n        // console.log(this.state.allVacations);\n        console.log(response.data);\n        self.setState({\n          currentUserVacations: response.data\n        }); // console.log(this.state.allVacations);\n      }).catch(function (error) {\n        console.log(error);\n      });\n    };\n\n    this.printCardsfavourite = () => {\n      let printArrayfavourite = [];\n      console.log(this.state.currentUserVacations);\n\n      for (let item of this.state.currentUserVacations) {\n        item.start_date = item.start_date.substring(0, 10); //this function cut the date to normal without zone time\n\n        item.end_date = item.end_date.substring(0, 10);\n\n        if (item.status == 1) {\n          printArrayfavourite.push(React.createElement(Card, {\n            key: item.id,\n            data: item,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 57\n            },\n            __self: this\n          }));\n        }\n      }\n\n      console.log('printArrayfavourite: ', printArrayfavourite);\n      return printArrayfavourite;\n    };\n\n    this.printCards = () => {\n      let printArray = [];\n      console.log(this.state.currentUserVacations);\n\n      for (let item of this.state.currentUserVacations) {\n        if (item.status == 0) {\n          printArray.push(React.createElement(Card, {\n            key: item.id,\n            data: item,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 71\n            },\n            __self: this\n          }));\n        }\n      }\n\n      console.log('printArray: ', printArray);\n      return printArray;\n    };\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, React.createElement(Menu, {\n      name: this.state.currentUserName,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, \"OUR VACATIONS\"), React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, \"Yours favourite vacations:\"), React.createElement(\"div\", {\n      className: \"row boxCardsUser\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, this.printCardsfavourite()), React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, \"Others vacations:\"), React.createElement(\"div\", {\n      className: \"row boxCardsUser\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, this.printCards())));\n  }\n\n}\n\nexport default HomeUser;","map":{"version":3,"sources":["/Users/annapryadko/Desktop/GitHub/ReactProjectVacations/projectvacations/src/Components/Home/HomeUser.js"],"names":["React","Component","axios","Card","Menu","HomeUser","state","currentUserName","userId","currentUserVacations","componentDidMount","currUser","JSON","parse","localStorage","setState","currIdUser","currentUserId","self","get","then","response","console","log","data","catch","error","printCardsfavourite","printArrayfavourite","item","start_date","substring","end_date","status","push","id","printCards","printArray","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\n\nimport axios from \"axios\";\n\nimport './Home.css';\n\n\nimport Card from '../Card/Card';\nimport Menu from '../Menu/MenuUser';\n\nclass HomeUser extends Component {\n\n    state = {\n\n    currentUserName:\"\",\n    userId:\"\",\n\n    currentUserVacations: [],\n\t};\n\t\n\t\n//Get all vacations\n\n    componentDidMount=()=>{\n\n    let currUser = JSON.parse(localStorage.currentUserName); //get info about current admim from LS\n    this.setState({currentUserName:currUser});\n\n    let currIdUser = JSON.parse(localStorage.currentUserId); //get info about current admim from LS\n\t\tthis.setState({userId:currIdUser});\n    \t\n        var self=this;\n        axios.get(`http://localhost:5000/getAllVacation?currentUserId=${currIdUser}`)\n        .then(function(response){\n\t\t \n\t\t// console.log(this.state.allVacations);\n\t\n         console.log(response.data);\n         \n\t\t self.setState({ currentUserVacations: response.data });\n\t\t// console.log(this.state.allVacations);\n\n        })\n        .catch(function(error){\n           console.log(error);\n        });\n      } \n      \n      printCardsfavourite=()=>{\n        let printArrayfavourite  = [];\n\t\tconsole.log(this.state.currentUserVacations);\n        for(let item of this.state.currentUserVacations)\n        {\n\t\t\t      item.start_date=item.start_date.substring(0,10) //this function cut the date to normal without zone time\n            item.end_date=item.end_date.substring(0,10)\n            if (item.status==1) {\n            printArrayfavourite.push(<Card key={item.id} data={item}/>)\n            \n            }\n\t\t}\n        console.log('printArrayfavourite: ',printArrayfavourite);\n        return printArrayfavourite;\n      }\n\n      printCards=()=>{\n        let printArray  = [];\n\t\tconsole.log(this.state.currentUserVacations);\n        for(let item of this.state.currentUserVacations)\n        {\n            if (item.status==0) {\n            printArray.push(<Card key={item.id} data={item}/>)\n            \n            }\n\t\t}\n        console.log('printArray: ',printArray);\n        return printArray;\n      }\n     \n\n  render() {\n    return (\n\t\n\t\t<div>\n      \t\n\t        \t<Menu name={this.state.currentUserName}></Menu>\n       \n\t\t \n        <div className=\"container\">\n\t\t\t\t<h1>OUR VACATIONS</h1>\n\n                <h3>Yours favourite vacations:</h3>\n\t\t\t\t\n\t\t\t\t\t<div className=\"row boxCardsUser\">\n\t\t\t\t\t\t{this.printCardsfavourite()}\n\t\t\t\t\t</div>\n\n          <h3>Others vacations:</h3>\n\t\t\t\t\n                    <div className=\"row boxCardsUser\">\n                        {this.printCards()}\n                    </div>  \n          </div>  \n\t\t\n\t\t</div>\n  \n    );\n  }\n}\n    \nexport default HomeUser;\n"]},"metadata":{},"sourceType":"module"}